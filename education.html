<!DOCTYPE html>

<!-- Declares the necessary HTML5 type. -->
<html xmlns="http://www.w3.org/1999/xhtml" lang ="en-GB" xml:lang="en-GB">

<head>

	<!-- NOTE: JS script links are contained at the bottom of the page for
	faster loading. -->

	<!-- WARNING: D3 JS needs to be linked at the top of the page to work properly. -->
	<script type="text/javascript" src="D3/d3.v3.js"></script>

	<!-- Linked stylesheets -->
	<link rel="stylesheet" href="CSS/normalize.css"/>
	<link rel="stylesheet" href="CSS/bootstrap.css"/>
	<link rel="stylesheet" href="CSS/fade_functions.css"/>
	<link rel="stylesheet" href="CSS/text_on_img.css"/>
	<link rel="stylesheet" href="CSS/whitespace_styles.css"/>
	<link rel="stylesheet" href="CSS/education_page.css"/>
	<!-- Note the first one is to normalize the css across browsers. -->

	<!-- Google font API for fonts. -->
	<link href='https://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>

	<!-- Used so that Bootstrap can access what size the screen is. -->
	<meta name="viewport" content = "width=device-width, initial-scale=1.0"/>

	<!-- For IE polyfills. -->
	<meta http-equiv="x-ua-compatible" content="IE=edge"/>

	<!-- Specifying charset as part of HTML5 standard. -->
	<meta charset="UTF-8"/>

	<!-- This creates the icon for the website you see. -->
	<link rel="shortcut icon" href="http://www.iconj.com/ico/y/c/ycecxakndp.ico" type="image/x-icon" />

	<!-- Polyfills for Internet Explorer. I included them to show I knew what they
		 were and how they worked. However this site does not function well on IE. -->
	<!--[if IE]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.js"></script>
    <![endif]-->    

	<title>Education.</title>

</head>

<body>

	<!-- Facebook root for page -->
	<div id="fb-root"></div>

	<!-- //////////////////////////////////////////////////////////////////// -->
	<!-- //////////////////// TOP NAVBAR DEFINITION ///////////////////////// -->
	<!-- //////////////////////////////////////////////////////////////////// -->

	<div class = "navbar navbar-inverse navbar-fixed-top">

		<div class = "container">

			<!-- Name to be displayed in top right. -->
			<a href = "landing_page.html" class = "navbar-brand">
				J. Collerton
			</a>

			<!-- Used so that when the navbar compresses to a certain
			level it becomes three lines that can be opened into a bigger
			menu. -->
			<button class = "navbar-toggle" 
			 data-toggle = "collapse" 
			 data-target = ".navHeaderCollapse">

				<span class = "icon-bar"></span>
				<span class = "icon-bar"></span>
				<span class = "icon-bar"></span>

			</button>

			<!-- Definitions of links for Navbar. -->
			<div class = "collapse navbar-collapse navHeaderCollapse">

				<!-- Pulls the buttons to the right. -->
				<ul class = "nav navbar-nav navbar-right">

					<!-- Education button. -->
					<li class ="active"><a href = "education.html">Education</a></li>

					<!-- Projects section. -->
					<li><a href = "">Projects</a></li>

					<!-- About Me section. -->
					<li><a href = "">About Me</a></li>

				</ul> <!-- End of right buttons. -->

			</div> <!-- End of navbar buttons. -->

		</div> <!-- End of container. -->

	</div> <!-- End of navbar. -->

	<div class = "create_ws_ninety"></div>

	<!-- //////////////////////////////////////////////////////////////////// -->
	<!-- ////////////// END OF TOP NAVBAR DEFINITION  /////////////////////// -->
	<!-- //////////////////////////////////////////////////////////////////// -->

	<!-- //////////////////////////////////////////////////////////////////// -->
	<!-- //////////////////// MAIN PAGE DEFINITION ////////////////////////// -->
	<!-- //////////////////////////////////////////////////////////////////// -->

	<!-- Container for the whole page. -->
	<div class = "container">

		<div class = "row">

			<!-- Columns set to width six so we have two equal ones. -->
			<div class = "col-sm-6">

				<!-- Split the page again so we can have cols for the 
				title and for the icon. -->
				<div class = "row">

					<h1>Education</h1>

				</div>

				<div class = "create_ws_thirty"></div>

					<!-- Start of the tabbable content. -->
					<div class = "tabbable">

						<!-- These define the different tabs we have. Note that
						the landing one is set to active. -->

						<div id = "tab_update">

						<ul class = "nav nav-tabs">

								<li class = "active" id = "comp_sci_tab">
									<a href = "#tab_1" data-toggle = "tab">
										MSc Computer Science
									</a>
								</li>

								<li id = "math_tab">
									<a href = "#tab_2" data-toggle = "tab">
										BSc Mathematics
									</a>
								</li>

								<li id = "a_level_tab" >
									<a href = "#tab_3" data-toggle = "tab">
										A-Level
									</a>
								</li>

						</ul>

						</div>

						<!-- These provide the links to the areas which 
						contain the tabbed content. -->
						<div class = "tab-content">

							<!-- Tab 1 content. -->
							<div class = "tab-pane active" id = "tab_1">

								<!-- Split the grid again to have space for
									 the title and picture. -->
								<div class = "row">

									<div class = "create_ws_thirty"></div>

									<h1 class = "tab_header">MSc Computer Science</h1>

									<div class = "create_ws_thirty"></div>

								</div>

								<!-- <div class = "create_ws_forty"></div> -->

								<!-- Create a grid within a grid to have the 
								picture and text side by side. -->
								<div class = "row">

									<div class = "col-sm-6">

										<p>
											In my Master's studies I looked at a fairly
											large range of different subject areas. Included 
											were modules on Programming in C, Object Oriented
											Design in Java, Databases, Computer Architecture,
											Web Technologies and a Group Software Project.

											<br/><br/>

											I got to work on some pretty cool projects during this,
											including a couple of computer games, a database engine
											and designing a processor (more on the projects page).

											<br/><br/>

											My MSc Thesis was centred on applying Equation Discovery
											from the field of machine learning to deriving differential
											equation models for modelling ant population dynamics.
											Although very intense, it was a good opportunity to do some
											of my own research, and very rewarding.
										</p>

									</div>

									<!-- This other half of the grid is an image. -->
									<div class = "col-sm-6">
											
										<img src="Images/Education_Page/msc_image.jpg"
							 			 class="msc_img" 
							 			 alt="MSc Img"/>

									</div>

								</div> <!-- End of row. -->

							</div> <!-- End of tab pane. -->

							<!-- Tab 2 -->
							<div class = "tab-pane" id = "tab_2">

								<div class = "create_ws_forty"></div>

								<!-- Split the grid again to have space for
									 the title and picture. -->
								<div class = "row">

									<div class = "create_ws_thirty"></div>

									<h1 class = "tab_header">BSc Mathematics</h1>

									<div class = "create_ws_thirty"></div>

								</div>

								<!-- Create a grid within a grid to have the 
								picture and text side by side. -->
								<div class = "row">

									<div class = "col-sm-6">

										<p>
											My Bachelor's was mathematics, which
											I also studies at the University of
											Bristol. I had been interested in the
											area all of the way through my sixth
											form studies, so it made sense to progress
											it into my university career.

											<br/><br/>

											I mainly focussed on statistics taking 
											modules in Bayesian modelling, financial
											mathematics, time series analysis and concepts
											in probability. My third year project then
											focussed on denoising signals and developing
											a new algorithm for detecting EPSCaT signals
											in the brain.

											<br/><br/>

											Although I enjoyed mathematics I wanted to
											explore other areas, so moved from the MSci
											to the BSc, and swapped to Computer Science.
										</p>

									</div>

									<!-- This other half of the grid is an image. -->
									<div class = "col-sm-6">
											
										<img src="Images/Education_Page/bsc_image.jpg" 
							 			 alt="BSc Img"/>

									</div>

								</div> <!-- End of row. -->

							</div> <!-- End of tab pane. -->

							<!-- Tab 3 -->
							<div class = "tab-pane" id = "tab_3">

								<div class = "row">

									<!-- Split the grid again to have space for
										 the title and picture. -->
									<div class = "row">

										<div class = "create_ws_thirty"></div>

										<h1 class = "tab_header">A-Levels</h1>

										<div class = "create_ws_thirty"></div>

									</div>

									<!-- Create a grid within a grid to have the 
								picture and text side by side. -->
								<div class = "row">

									<div class = "col-sm-6">

										<p>
											I studied at Saint Cuthbert's Catholic 
											High School, a state school in west end
											Newcastle. In my A-Levels I took Maths, 
											Further Maths and Chemistry with the 
											intention of taking mathematics at university.
											Throughout my time at school I never encountered
											the idea of programming, which meant I never
											considered Computer Science as a potential course 
											at university. Maybe if I'd done a bit of
											coding at A-level things might have turned out
											different...

											<br/><br/>

											As well as my A-Level exams I took an
											extra maths course at the University of
											Durham and competed in the Southampton 
											University Cypher Challenge. I also went 
											on a charity trip to Namibia, Africa where 
											I spent time teaching maths in an orphanage. 


										</p>

									</div>

									<!-- This other half of the grid is an image. -->
									<div class = "col-sm-6">
											
										<img src="Images/Education_Page/a_level_image.jpg"
							 			 class="a_level_img" 
							 			 alt="A Level Img"/>

									</div>

								</div> <!-- End of row. -->

							</div> <!-- End of tab pane. -->

						</div> <!-- End of tab content. -->

					</div> <!-- End of tabbable. -->

				</div> <!-- End of row. -->

			</div>

			<!-- This makes up the rest of the page (on the right hand side). -->
			<div class = "col-sm-5 col-md-offset-1">

				<h1 class = "text-right">Grade Visualisations</h1>

				<div class = "create_ws_thirty"></div>

				<p>
					I've used D3 a little bit previously and really enjoyed it
					so I thought I would add a bit here to visualise my grades.
				</p>

				<div class = "create_ws_sixty"></div>

				<div id = "d3_graph"></div>

			</div> <!-- End of col. -->

		</div> <!-- End of row. -->

	</div> <!-- End of container. -->

<style>

.bar {
  fill: steelblue;
}

.bar:hover {
  fill: brown;
}

.axis {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {
  display: none;
}

</style>
<body>
<!-- <script src="d3.v3.min.js"></script> -->
<script>

var tab_buttons = {

  comp_sci_tab : document.getElementById("comp_sci_tab"),
  math_tab : document.getElementById("math_tab"),
  a_level_tab : document.getElementById("a_level_tab")

};

function assign_button_listener(data){

  for(button in tab_buttons){ 
    tab_buttons[button].addEventListener( 
          'click', 
           function(data){
              run_checks(data);
           }, false 
	);
  }

}

function run_checks(data){

  // console.log(tab_buttons['comp_sci_tab'].className)
  console.log(data)

  if(tab_buttons['comp_sci_tab'].className == 'active'){ 
    button_check('comp_sci_tab', data); 
  }
  else if(tab_buttons['math_tab'].className == 'active'){ 
    button_check('math_tab', data); 
  }
  else if(tab_buttons['a_level_tab'].className == 'active'){
    button_check('a_level_tab', data);
  }
}

// Empty the data and the page names columns to add new data and get the
// page names in order. Then make a request for the given type.
function button_check(button, data){

  if(button == 'comp_sci_tab'){

  	console.log("MSc Slice")
  	console.log(data)
  	msc_slice = data.slice(0, 7)
  	draw(msc_slice)

  }
  else if(button == 'math_tab'){

  	console.log("BSc Slice")
  	bsc_slice = data.slice(7, data.length)
  	draw(bsc_slice)

  }
  else if(button == 'a_level_tab'){

    // data = a_level_results;
    // page_names = a_level_units;

  }

 }

// Mike Bostock "margin conventions"
var margin = {top: 20, right: 20, bottom: 70, left: 40},
    		  width = 960 - margin.left - margin.right,
    		  height = 500 - margin.top - margin.bottom;

// D3 scales = just math
// x is a function that transforms from "domain" (data) into "range" (usual pixels)
// domain gets set after the data loads
var x = d3.scale.ordinal()
    	   .rangeRoundBands([0, width], .1);

var y = d3.scale.linear()
          .range([height, 0]);

// D3 Axis - renders a d3 scale in SVG
var xAxis = d3.svg.axis()
		      .scale(x)
		      .orient("bottom");

var yAxis = d3.svg.axis()
    		  .scale(y)
              .orient("left")
              .ticks(10, "%");

// create an SVG element (appended to body)
// set size
// add a "g" element (think "group")
// annoying d3 gotcha - the 'svg' variable here is a 'g' element
// the final line sets the transform on <g>, not on <svg>
var svg = d3.select("body").append("svg")
    		.attr("width", width + margin.left + margin.right)
    		.attr("height", height + margin.top + margin.bottom)
  			.append("g")
    		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

svg.append("g")
    .attr("class", "x axis")
    .attr("transform", "translate(0," + height + ")")

svg.append("g")
    .attr("class", "y axis")
  	.append("text") // just for the title (ticks are automatic)
    .attr("transform", "rotate(-90)") // rotate the text!
    .attr("y", 6)
    .attr("dy", ".71em")
    .style("text-anchor", "end")
    .text("Frequency");

// d3.tsv is a wrapper around XMLHTTPRequest, returns array of arrays (?) for a TSV file
// type function transforms strings to numbers, dates, etc.
d3.tsv("data.tsv", type, function(error, data) {
  replay(data);
  assign_button_listener(data)
});

function type(d) {
  // + coerces to a Number from a String (or anything)
  d.frequency = +d.frequency;
  return d;
}

function replay(data) {
  var count = 4;
  var slices = [];
  for (var i = 0; i < data.length; i++) {
    slices.push(data.slice(0, i));
  }

  // assign_button_listener(data)

  // slices.reverse()

  // msc_slice = data.slice(0, 7)
  // bsc_slice = data.slice(7, data.length)
  // // bsc_slices = slices.slice(6, slices.length)

  // draw(bsc_slice)

  // setTimeout(function(){
  //     	draw(msc_slice)
  //  }, 1000);

  // msc_slices.forEach(function(slice, index){
  //   setTimeout(function(){
  //     	draw(slice);
  //   }, index * 1000);
  // });

  // for (var i = 0; i < data.length; i++) {
  //   slices.pop();
  //   setTimeout(function(){
  //     	console.log(slices[slices.length]);
  //   	}, 1000);
  // 	}

}

function draw(data) {
  // measure the domain (for x, unique letters) (for y [0,maxFrequency])
  // now the scales are finished and usable
  x.domain(data.map(function(d) { return d.letter; }));
  y.domain([0, d3.max(data, function(d) { return d.frequency; })]);

  // another g element, this time to move the origin to the bottom of the svg element
  // someSelection.call(thing) is roughly equivalent to thing(someSelection[i])
  //   for everything in the selection\
  // the end result is g populated with text and lines!
  svg.select('.x.axis').transition().duration(300).call(xAxis);

  // same for yAxis but with more transform and a title
  svg.select(".y.axis").transition().duration(300).call(yAxis)

  svg.select('.x.axis')
    .selectAll("text")  
    .style("text-anchor", "end")
    .attr("dx", "-.8em")
    .attr("dy", ".15em")
    .attr("transform", function(d) {
        return "rotate(-65)" 
    });

  // THIS IS THE ACTUAL WORK!
  var bars = svg.selectAll(".bar")
  				.data(data, function(d) { 
  					return d.letter; 
  				}) // (data) is an array/iterable thing, second argument is an ID generator function

  bars.exit()
    .transition()
    .duration(300)
    .attr("y", y(0))
    .attr("height", height - y(0))
    .style('fill-opacity', 1e-6)
    .remove();

  // data that needs DOM = enter() (a set/selection, not an event!)
  bars.enter().append("rect")
    .attr("class", "bar")
    .attr("y", y(0))
    .attr("height", height - y(0));

  // the "UPDATE" set:
  bars.transition().duration(300).attr("x", function(d) { return x(d.letter); }) // (d) is one item from the data array, x is the scale object from above
    .attr("width", x.rangeBand()) // constant, so no callback function(d) here
    .attr("y", function(d) { return y(d.frequency); })
    .attr("height", function(d) { return height - y(d.frequency); }); // flip the height, because y's domain is bottom up, but SVG renders top down

}

</script>


	<div class = "create_ws_ninety"></div>

	<!-- //////////////////////////////////////////////////////////////////// -->
	<!-- ////////////// END OF MAIN PAGE DEFINITION  //////////////////////// -->
	<!-- //////////////////////////////////////////////////////////////////// -->

	<!-- //////////////////////////////////////////////////////////////////// -->
	<!-- ///////////////// BOTTOM NAVBAR DEFINITION ///////////////////////// -->
	<!-- //////////////////////////////////////////////////////////////////// -->

	<div class= "navbar navbar-inverse navbar-fixed-bottom">

		<div class = "container">

			<p class = "navbar-text pull-left">
				J. Collerton
			</p>

		</div>

	</div> 


	<!-- //////////////////////////////////////////////////////////////////// -->
	<!-- ///////////////// END OF BOTTOM NAVBAR DEFINITION ////////////////// -->
	<!-- //////////////////////////////////////////////////////////////////// -->

	<!-- JQuery and JS scripts. 
		 Note: JQuery may not run on SAFE because of needing to access that library. -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

	<!-- Custom scripts -->
	<script src = "JavaScript/bootstrap.js"></script>
	<script src = "JavaScript/popover.js"></script>
	<script src = "JavaScript/Grade_Visualisations.js"></script>

</body>

</html>